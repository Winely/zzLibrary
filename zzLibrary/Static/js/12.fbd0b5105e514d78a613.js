webpackJsonp([12],{481:function(t,o,e){e(552);var n=e(185)(e(508),e(537),"data-v-3643ba77",null);t.exports=n.exports},489:function(t,o,e){"use strict";o.a={root:"http://zz.ngrok.donggu.me/api/",encodeToken:function(t){return t.replace(/\+/g,"%2B")},signup:function(){return this.root+"Account/signup"},login:function(){return this.root+"Account/login"},GetUserInfo:function(t,o){return this.root+"Account/info?token="+this.encodeToken(t)+"&username="+o},GetUserRecord:function(t,o){return this.root+"Record/user?token="+this.encodeToken(t)+"&user="+o},Renew:function(t){return this.root+"Record/renew?token="+this.encodeToken(t)},Borrow:function(t){return this.root+"Record/borrow?token="+this.encodeToken(t)},Return:function(t){return this.root+"Record/return?token="+this.encodeToken(t)},searchBookByISBN:function(t){return this.root+"Book/Get?isbn="+t},searchBookByTitle:function(t,o){return this.root+"Book/search?title="+t+"&page="+o},searchOuterBook:function(t,o){return this.root+"Book/info?token="+this.encodeToken(t)+"&isbn="+o},addBook:function(t){return this.root+"Book/add?token="+this.encodeToken(t)},deleteBook:function(t,o){return this.root+"Book/Delete?token="+this.encodeToken(t)+"&isbn="+o},getCopy:function(t){return this.root+"Copy/Get?isbn="+t},addCopy:function(t,o,e){return this.root+"Copy/add?token="+this.encodeToken(t)+"&isbn="+o+"&num="+e},deleteCopy:function(t,o){return this.root+"Copy/Delete?token="+this.encodeToken(t)+"&id="+o},getCopyRecord:function(t,o){return this.root+"Record/copy?token="+this.encodeToken(t)+"&copyId="+o},getAllRecords:function(t,o){return this.root+"Record/Get?token="+this.encodeToken(t)+"&page="+o},getAllBooks:function(t){return this.root+"Book/Get?page="+t},getAllUsers:function(t){return this.root+"Account/Get?token="+t}}},508:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(489);o.default={props:["admin"],data:function(){return{isbn:null,copyInfo:null,hasBookInfo:null,addNum:null,deleteId:null}},created:function(){},methods:{search:function(){var t=this;this.$http.get(n.a.searchBookByISBN(this.isbn)).then(function(o){t.hasBookInfo=o.body},function(o){t.hasBookInfo=null}),this.$http.get(n.a.getCopy(this.isbn)).then(function(o){t.copyInfo=o.body},function(o){t.copyInfo=null})},addCopy:function(){var t=this;this.$http.put(n.a.addCopy(this.admin.token,this.isbn,this.addNum)).then(function(o){t.$message({message:"录入成功！",type:"success"}),t.$http.get(n.a.getCopy(t.isbn)).then(function(o){t.copyInfo=o.body},function(o){t.copyInfo=null})},function(o){t.$message({message:"录入失败！",type:"error"})})},deleteCopy:function(t,o){var e=this;this.$http.delete(n.a.deleteCopy(this.admin.token,o.id)).then(function(t){e.$message({message:"删除成功！",type:"success"}),e.$http.get(n.a.getCopy(e.isbn)).then(function(t){e.copyInfo=t.body},function(t){e.copyInfo=null})},function(t){e.$message({message:"删除失败！",type:"error"})})}}}},520:function(t,o,e){o=t.exports=e(82)(void 0),o.push([t.i,".crumbs[data-v-3643ba77]{margin:10px 0}.table-title[data-v-3643ba77]{font-size:20px}.bookInfoForm[data-v-3643ba77]{margin-top:30px}",""])},537:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"BRBook-wrap"},[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{staticClass:"table-title"},[e("i",{staticClass:"el-icon-menu table-title"}),t._v(" 录入/删除复本\n            ")])],1)],1),t._v(" "),e("div",{staticClass:"bookInfoForm"},[e("div",{staticClass:"form-box"},[e("el-form",{attrs:{"label-width":"40px"}},[e("el-form-item",{attrs:{label:"ISBN",prop:"isbn"}},[e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入书本的ISBN"},model:{value:t.isbn,callback:function(o){t.isbn=o},expression:"isbn"}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(o){t.search()}}},[t._v("查询")])],1)],1),t._v(" "),t.hasBookInfo?e("el-form",{ref:"hasBookInfo",attrs:{model:t.hasBookInfo,"label-width":"40px"}},[e("el-form-item",{attrs:{label:"书名"}},[e("p",[t._v(t._s(t.hasBookInfo.title))])]),t._v(" "),e("el-form-item",{attrs:{label:"作者"}},[e("p",[t._v(t._s(t.hasBookInfo.author))])]),t._v(" "),e("el-form-item",{attrs:{label:"版本"}},[e("p",[t._v(t._s(t.hasBookInfo.edition))])]),t._v(" "),e("el-form-item",{attrs:{label:"价钱"}},[e("p",[t._v(t._s(t.hasBookInfo.price))])]),t._v(" "),e("el-form-item",{staticStyle:{"vertical-align":"middle"},attrs:{label:"录入"}},[e("el-input-number",{attrs:{min:1},model:{value:t.addNum,callback:function(o){t.addNum=o},expression:"addNum"}}),t._v(" "),e("el-button",{attrs:{type:"success"},on:{click:function(o){t.addCopy()}}},[t._v("确认录入")])],1)],1):t._e()],1)]),t._v(" "),t.copyInfo?e("el-table",{ref:"multipleTable",staticStyle:{width:"502px"},attrs:{data:t.copyInfo,border:""}},[e("el-table-column",{attrs:{prop:"$id",label:"序号",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"book",label:"ISBN",width:"200"}}),t._v(" "),e("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.deleteCopy(o.$index,o.row)}}},[t._v("删除\n                ")])]}}])})],1):t._e()],1)},staticRenderFns:[]}},552:function(t,o,e){var n=e(520);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(186)("698de072",n,!0)}});