webpackJsonp([5],{486:function(o,e,t){t(550);var n=t(185)(t(514),t(535),"data-v-09842197",null);o.exports=n.exports},489:function(o,e,t){"use strict";e.a={root:"http://zz.ngrok.donggu.me/api/",encodeToken:function(o){return o.replace(/\+/g,"%2B")},signup:function(){return this.root+"Account/signup"},login:function(){return this.root+"Account/login"},GetUserInfo:function(o,e){return this.root+"Account/info?token="+this.encodeToken(o)+"&username="+e},GetUserRecord:function(o,e){return this.root+"Record/user?token="+this.encodeToken(o)+"&user="+e},Renew:function(o){return this.root+"Record/renew?token="+this.encodeToken(o)},Borrow:function(o){return this.root+"Record/borrow?token="+this.encodeToken(o)},Return:function(o){return this.root+"Record/return?token="+this.encodeToken(o)},searchBookByISBN:function(o){return this.root+"Book/Get?isbn="+o},searchBookByTitle:function(o,e){return this.root+"Book/search?title="+o+"&page="+e},searchOuterBook:function(o,e){return this.root+"Book/info?token="+this.encodeToken(o)+"&isbn="+e},addBook:function(o){return this.root+"Book/add?token="+this.encodeToken(o)},deleteBook:function(o,e){return this.root+"Book/Delete?token="+this.encodeToken(o)+"&isbn="+e},getCopy:function(o){return this.root+"Copy/Get?isbn="+o},addCopy:function(o,e,t){return this.root+"Copy/add?token="+this.encodeToken(o)+"&isbn="+e+"&num="+t},deleteCopy:function(o,e){return this.root+"Copy/Delete?token="+this.encodeToken(o)+"&id="+e},getCopyRecord:function(o,e){return this.root+"Record/copy?token="+this.encodeToken(o)+"&copyId="+e},getAllRecords:function(o,e){return this.root+"Record/Get?token="+this.encodeToken(o)+"&page="+e},getAllBooks:function(o){return this.root+"Book/Get?page="+o},getAllUsers:function(o){return this.root+"Account/Get?token="+o}}},492:function(o,e,t){o.exports={default:t(493),__esModule:!0}},493:function(o,e,t){var n=t(63),r=n.JSON||(n.JSON={stringify:JSON.stringify});o.exports=function(o){return r.stringify.apply(r,arguments)}},514:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(492),r=t.n(n),i=t(489);e.default={data:function(){var o=this;return{user:null,info:{Username:"",Password:"",checkPass:"",Admincode:""},rules2:{Username:[{validator:function(o,e,t){if(!e)return t(new Error("用户名不能为空"));t()},trigger:"blur"}],Password:[{validator:function(e,t,n){""===t?n(new Error("请输入密码")):(""!==o.info.checkPass&&o.$refs.info.validateField("checkPass"),n())},trigger:"blur"}],checkPass:[{validator:function(e,t,n){""===t?n(new Error("请再次输入密码")):t!==o.info.Password?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}]}}},methods:{submitForm:function(o){var e=this;this.$refs[o].validate(function(o){if(!o)return console.log("error submit!!"),!1;console.log("valid!"),e.$http.post(i.a.signup(),{Username:e.info.Username,Password:e.info.Password,Admincode:e.info.Admincode}).then(function(o){200==o.status&&e.$http.post(i.a.login(),{Username:e.info.Username,Password:e.info.Password}).then(function(o){e.user=o.body,sessionStorage.user=r()(e.user),localStorage.user=r()({Username:e.user.user,token:e.user.token}),e.user.isadmin?e.$router.push("/AdminHome"):e.$router.push("/UserHome")})})})},resetForm:function(o){this.$refs[o].resetFields()}}}},518:function(o,e,t){e=o.exports=t(82)(void 0),e.push([o.i,".signUp-wrap[data-v-09842197]{background-color:#eee;height:100%;padding-top:20px}.signUpForm[data-v-09842197]{background-color:hsla(0,0%,100%,.9);width:50%;margin:auto;padding:30px 90px 10px}.title[data-v-09842197]{text-align:center;font-size:20px;font-weight:700;margin-bottom:10px}",""])},535:function(o,e){o.exports={render:function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"signUp-wrap"},[t("div",{staticClass:"signUpForm"},[t("div",{staticClass:"title"},[o._v("注册")]),o._v(" "),t("div",{staticClass:"form-box"},[t("el-form",{ref:"info",attrs:{model:o.info,rules:o.rules2,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"Username"}},[t("el-input",{model:{value:o.info.Username,callback:function(e){o.info.Username=e},expression:"info.Username"}})],1),o._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"Password"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:o.info.Password,callback:function(e){o.info.Password=e},expression:"info.Password"}})],1),o._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:o.info.checkPass,callback:function(e){o.info.checkPass=e},expression:"info.checkPass"}})],1),o._v(" "),t("el-form-item",{attrs:{label:"管理员",prop:"Admincode"}},[t("el-input",{model:{value:o.info.Admincode,callback:function(e){o.info.Admincode=e},expression:"info.Admincode"}})],1),o._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(e){o.submitForm("info")}}},[o._v("提交")]),o._v(" "),t("el-button",{on:{click:function(e){o.resetForm("info")}}},[o._v("重置")])],1)],1)],1)])])},staticRenderFns:[]}},550:function(o,e,t){var n=t(518);"string"==typeof n&&(n=[[o.i,n,""]]),n.locals&&(o.exports=n.locals);t(186)("cf6ec7f0",n,!0)}});